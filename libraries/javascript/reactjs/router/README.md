# ReactJs router example
* Штука, которая делает пункты меню на странице, при клике на пунктах меню выводятся разные компоненты 
* Всё это происходит без походов на сервер (т.е. ни перезагрузки страницы, ни AJAX, всё на клиенте)
* Такой подход называется Single Page Application (SPA) 
* При этом адресная строка в браузере меняется, т.е. можно вернуться к странице с каким-то путём, и работает навигация вперёд/назад в браузере

В общем веб двигается потихоньку к парадигме десктопных приложений.

## Основной смысл, как с этим работать
* Используется react-router-dom - это дополнение к react, устанавливается отдельно.
* Вся динамическая часть упаковывается внутрь компонента BrowserRouter, внутри которого должен быть один div, примерно так:
```js
<BrowserRouter>
	<div>
		<Menu />
		<Main />	
	</div>
</BrowserRouter>

//* BrowserRouter - системный компонент из react-router-dom
//* Menu - мой компонент, с пунктами меню
//* Main - мой компонент, содержимое которого меняется в зависимости от выбранного пунта меню
```
* Внутри Menu ставится несколько системных компонентов из react-router-dom - Link:
```js
<Link to="/">Start page</Link><br/>
<Link to="/messages">View messages</Link><br/>
<Link to="/options">Set options</Link><br/>

//Думаю здесь интуитивно понятно. Это будет в браузере выглядеть как просто <a> но клик на них не приводит к загрузке новой страницы, а приводит к ре-рендерингу другого компонента. Где именно рендерится - об этом ниже.
```

* Внутри Main ставится ещё один системный компонент из react-router-dom - Switch, внутри котрого системный компонент Route
```js
<Switch>
        <Route exact path="/" component={Home}/>
        <Route exact path="/messages" component={Messages}/>
        <Route exact path="/options" component={Options}/>
</Switch>

/*
Это описание того, что тут может показываться в зависимости от выбранного пункта меню или пути в адресной строке браузера. Думаю интуитивно понятно, подробнее в коде.
*/
```

* Есть ещё HashRouter, который отличается от BrowserRouter тем, что по-другому формируется адресная строка (используются # вместо путей)

* Чтобы router работал нужно настроить web-server, чтобы он по путям например `/options` отдавал тот же index.html, т.к. фактически ресурса options на сервере не существует, он придумывается на фронте. На отладочном webpack-dev-server это делается путём добавления `historyApiFallback = true` в конфиг. TODO: как правильно делать это на боевом сервере?

