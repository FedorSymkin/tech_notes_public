# Django REST framework, начинаем разбираться
https://www.django-rest-framework.org/

```
sudo pip3 install djangorestframework
sudo pip3 install markdown
sudo pip3 install django-filter
```

## Основы
* Далее по тексту будет понятия:
	* "обычный" django, который выдаёт html (всё что рассматривалось ранее) 
	* API - "необычный" django на основе REST framework, который выдаёт json - всё что рассматривается сейчас.
* В API тоже есть свои views, которые выдают json вместо html, но в коде снаружи используются также как и обычные views (т.е. в urlpatterns также стоит as_view())
* В отличие от обычных views (которые внутри себя сами реализуют форму), для API views нужно создавать дополниельный класс Serializer, который по смыслу идут как аналог класса формы из обычного django. Этот Serializer определяет формат выдачи.
* Свой Serializer наследуется от стандатного класса

## Про отладку
* По умолчанию в браузер API views отдают не json, а html поверх json - чтобы красиво показать содержимое json, заголовки и дать возможноть совершать некоторые другие действия (например запросить тот же путь с методом OPTIONS)
* Такое поведение определяется заголовком `Accept: text/html`. Если сходить на сервер просто curl-ом без заголовков - отдаст json
* Это поведение можно отключить в общих настройках settings.py, см. `REST_FRAMEWORK`
* Также можно обратить внимание на секцию LOGGING в settings.py - настроил так, чтобы можно было смотреть запросы к БД

## А также
* Не забыть подключить `'rest_framework'` в INSTALLED_APPS!
