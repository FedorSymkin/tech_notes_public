# Тестирование в django

На примере REST API (полностью скопирован прошлый пример и добавлены тесты)

см. myapp/tests.py

## В целом
* Тесты запускаются так: `python3 manage.py test`
* Можно добавлять уровень детализации, например `python3 manage.py test -v 2`
* Используется стандартный модуль python unittest, с большой обёрткой вокруг него  в виде стандартных классов тестов из django
* При запуске теста ищутся в модулях все наследники TestCase и внутри этих классов выполняются в виде тестов все функции, которые начинаются на `test_`

## Юнит тесты
* Тестируются отдельные части программы (например модели ORM), без запуска http-сервера
* Класс теста унаследован от стандартного django класса, который выполняет всю работу по подготовке инфраструктуры
* Тест выполняется в отдельной базе данных. Если это sqlite, то вообще в памяти

## Интеграционные тесты
* Тестируется вся программа целиком, т.е. поднимается сервер, в него ходим запросами, проверяем результаты запросов
* В django есть класс LiveServerTestCase для отдельного поднятия сервера, от котрого наследуются интеграционные тесты
* Внутри интеграционного теста создаётся http клиент, который ходит в сервер